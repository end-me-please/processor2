const {command, handle} = require("../util/messageHandler.js");
const units = require("../util/units.js");

function pingCmd(handler){
    handler.textReply("Pong!",true);
}
let ping = new command("ping",pingCmd,["string"],"Ping the bot","general");

function amogusCmd(handler){


    let amogi=[
        `â €â €â €â €â €â €â €â €â €â €â €â£ â£¤â£¤â£¤â£¤â£¤â£¶â£¦â£¤â£„â¡€â €â €â €â €â €â €â €â €
        â €â €â €â €â €â €â €â €â¢€â£´â£¿â¡¿â ›â ‰â ™â ›â ›â ›â ›â »â¢¿â£¿â£·â£¤â¡€â €â €â €â €â €
        â €â €â €â €â €â €â €â €â£¼â£¿â ‹â €â €â €â €â €â €â €â¢€â£€â£€â ˆâ¢»â£¿â£¿â¡„â €â €â €â €
        â €â €â €â €â €â €â €â£¸â£¿â¡â €â €â €â£ â£¶â£¾â£¿â£¿â£¿â ¿â ¿â ¿â¢¿â£¿â£¿â£¿â£„â €â €â €
        â €â €â €â €â €â €â €â£¿â£¿â â €â €â¢°â£¿â£¿â£¯â â €â €â €â €â €â €â €â ˆâ ™â¢¿â£·â¡„â €
        â €â €â£€â£¤â£´â£¶â£¶â£¿â¡Ÿâ €â €â €â¢¸â£¿â£¿â£¿â£†â €â €â €â €â €â €â €â €â €â €â£¿â£·â €
        â €â¢°â£¿â¡Ÿâ ‹â ‰â£¹â£¿â¡‡â €â €â €â ˜â£¿â£¿â£¿â£¿â£·â£¦â£¤â£¤â£¤â£¶â£¶â£¶â£¶â£¿â£¿â£¿â €
        â €â¢¸â£¿â¡‡â €â €â£¿â£¿â¡‡â €â €â €â €â ¹â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â ƒâ €
        â €â£¸â£¿â¡‡â €â €â£¿â£¿â¡‡â €â €â €â €â €â ‰â »â ¿â£¿â£¿â£¿â£¿â¡¿â ¿â ¿â ›â¢»â£¿â¡‡â €â €
        â €â£¿â£¿â â €â €â£¿â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£§â €â €
        â €â£¿â£¿â €â €â €â£¿â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â €â €
        â €â£¿â£¿â €â €â €â£¿â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â €â €
        â €â¢¿â£¿â¡†â €â €â£¿â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â¡‡â €â €
        â €â ¸â£¿â£§â¡€â €â£¿â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¿â£¿â ƒâ €â €
        â €â €â ›â¢¿â£¿â£¿â£¿â£¿â£‡â €â €â €â €â €â£°â£¿â£¿â£·â£¶â£¶â£¶â£¶â ¶â €â¢ â£¿â£¿â €â €â €
        â €â €â €â €â €â €â €â£¿â£¿â €â €â €â €â €â£¿â£¿â¡‡â €â£½â£¿â¡â â €â €â¢¸â£¿â¡‡â €â €â €
        â €â €â €â €â €â €â €â£¿â£¿â €â €â €â €â €â£¿â£¿â¡‡â €â¢¹â£¿â¡†â €â €â €â£¸â£¿â ‡â €â €â €
        â €â €â €â €â €â €â €â¢¿â£¿â£¦â£„â£€â£ â£´â£¿â£¿â â €â ˆâ »â£¿â£¿â£¿â£¿â¡¿â â €â €â €â €
        â €â €â €â €â €â €â €â ˆâ ›â »â ¿â ¿â ¿â ¿â ‹â â €â €â €â €â €â €â €â €â €â €â €â €â €â €`,
        `â €â €â €â €â €â €â €â €â €â €â €â£ â£´â£¶â£¿â£¿â£·â£¶â£„â£€â£€â €â €â €â €â €â €â €â €â €
        â €â €â €â €â €â €â €â €â €â£°â£¾â£¿â£¿â¡¿â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£·â£¦â¡€â €â €â €â €â €
        â €â €â €â €â €â €â €â¢€â£¾â£¿â£¿â¡Ÿâ â£°â£¿â£¿â£¿â¡¿â ¿â »â ¿â£¿â£¿â£¿â£¿â£§â €â €â €â €
        â €â €â €â €â €â €â €â£¾â£¿â£¿â â €â£´â£¿â£¿â£¿â ‰â €â €â €â €â €â ˆâ¢»â£¿â£¿â£‡â €â €â €
        â €â €â €â €â¢€â£ â£¼â£¿â£¿â¡â €â¢ â£¿â£¿â£¿â ‡â €â €â €â €â €â €â €â ˆâ£¿â£¿â£¿â¡€â €â €
        â €â €â €â£°â£¿â£¿â£¿â£¿â£¿â¡‡â €â¢¸â£¿â£¿â£¿â¡€â €â €â €â €â €â €â €â €â£¿â£¿â£¿â¡‡â €â €
        â €â €â¢°â£¿â£¿â¡¿â£¿â£¿â£¿â¡‡â €â ˜â£¿â£¿â£¿â£§â €â €â €â €â €â €â¢€â£¸â£¿â£¿â£¿â â €â €
        â €â €â£¿â£¿â£¿â â£¿â£¿â£¿â¡‡â €â €â »â£¿â£¿â£¿â£·â£¶â£¶â£¶â£¶â£¶â£¿â£¿â£¿â£¿â ƒâ €â €â €
        â €â¢°â£¿â£¿â¡‡â €â£¿â£¿â£¿â €â €â €â €â ˆâ »â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â Ÿâ â €â €â €â €
        â €â¢¸â£¿â£¿â¡‡â €â£¿â£¿â£¿â €â €â €â €â €â €â €â ‰â ›â ›â ›â ‰â¢‰â£¿â£¿â €â €â €â €â €â €
        â €â¢¸â£¿â£¿â£‡â €â£¿â£¿â£¿â €â €â €â €â €â¢€â£¤â£¤â£¤â¡€â €â €â¢¸â£¿â£¿â£¿â£·â£¦â €â €â €
        â €â €â¢»â£¿â£¿â£¶â£¿â£¿â£¿â €â €â €â €â €â ˆâ »â£¿â£¿â£¿â£¦â¡€â €â ‰â ‰â »â£¿â£¿â¡‡â €â €
        â €â €â €â ›â ¿â£¿â£¿â£¿â£¿â£·â£¤â¡€â €â €â €â €â ˆâ ¹â£¿â£¿â£‡â£€â €â£ â£¾â£¿â£¿â¡‡â €â €
        â €â €â €â €â €â €â €â ¹â£¿â£¿â£¿â£¿â£¦â£¤â£¤â£¤â£¤â£¾â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡Ÿâ €â €â €
        â €â €â €â €â €â €â €â €â €â ‰â »â¢¿â£¿â£¿â£¿â£¿â£¿â£¿â ¿â ‹â ‰â ›â ‹â ‰â ‰â â €â €â €â €
        â €â €â €â €â €â €â €â €â €â €â €â €â €â ˆâ ‰â ‰â ‰â `,
        `â €â €â €â €â €â €â €â €â €â €â €â£ â£¤â£¤â£¤â£¤â£¤â£¶â£¦â£¤â£„â¡€â €â €â €â €â €â €â €â €
        â €â €â €â €â €â €â €â €â¢€â£´â£¿â¡¿â ›â ‰â ™â ›â ›â ›â ›â »â¢¿â£¿â£·â£¤â¡€â €â €â €â €â €
        â €â €â €â €â €â €â €â €â£¼â£¿â ‹â €â €â €â €â €â €â €â¢€â£€â£€â ˆâ¢»â£¿â£¿â¡„â €â €â €â €
        â €â €â €â €â €â €â €â£¸â£¿â¡â €â €â €â£ â£¶â£¾â£¿â£¿â£¿â ¿â ¿â ¿â¢¿â£¿â£¿â£¿â£„â €â €â €
        â €â €â €â €â €â €â €â£¿â£¿â â €â €â¢°â£¿â£¿â£¯â â €â €â €â €â €â €â €â ˆâ ™â¢¿â£·â¡„â €
        â €â €â£€â£¤â£´â£¶â£¶â£¿â¡Ÿâ €â €â €â¢¸â£¿â£¿â£¿â£†ðŸ”´â €â €â €â €ðŸ”´â €â €â£¿â£·â €
        â €â¢°â£¿â¡Ÿâ ‹â ‰â£¹â£¿â¡‡â €â €â €â ˜â£¿â£¿â£¿â£¿â£·â£¦â£¤â£¤â£¤â£¶â£¶â£¶â£¶â£¿â£¿â£¿â €
        â €â¢¸â£¿â¡‡â €â €â£¿â£¿â¡‡â €â €â €â €â ¹â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â ƒâ €
        â €â£¸â£¿â¡‡â €â €â£¿â£¿â¡‡â €â €â €â €â €â ‰â »â ¿â£¿â£¿â£¿â£¿â¡¿â ¿â ¿â ›â¢»â£¿â¡‡â €â €
        â €â£¿â£¿â â €â €â£¿â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£§â €â €
        â €â£¿â£¿â €â €â €â£¿â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â €â €
        â €â£¿â£¿â €â €â €â£¿â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â €â €
        â €â¢¿â£¿â¡†â €â €â£¿â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â¡‡â €â €
        â €â ¸â£¿â£§â¡€â €â£¿â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¿â£¿â ƒâ €â €
        â €â €â ›â¢¿â£¿â£¿â£¿â£¿â£‡â €â €â €â €â €â£°â£¿â£¿â£·â£¶â£¶â£¶â£¶â ¶â €â¢ â£¿â£¿â €â €â €
        â €â €â €â €â €â €â €â£¿â£¿â €â €â €â €â €â£¿â£¿â¡‡â €â£½â£¿â¡â â €â €â¢¸â£¿â¡‡â €â €â €
        â €â €â €â €â €â €â €â£¿â£¿â €â €â €â €â €â£¿â£¿â¡‡â €â¢¹â£¿â¡†â €â €â €â£¸â£¿â ‡â €â €â €
        â €â €â €â €â €â €â €â¢¿â£¿â£¦â£„â£€â£ â£´â£¿â£¿â â €â ˆâ »â£¿â£¿â£¿â£¿â¡¿â â €â €â €â €
        â €â €â €â €â €â €â €â ˆâ ›â »â ¿â ¿â ¿â ¿â ‹â â €â €â €â €â €â €â €â €â €â €â €â €â €â €`,
        `à¶ž`,
        `
        â €â €â €â €â €â €â €â €â €â €â €â¢€â£€â£€â£´â£†â£ â£¤â €â €â €â €â €â €â €
        â €â €â €â €â €â €â €â €â €â €â €â ˆâ£»â£¿â£¯â£˜â ¹â£§â£¤â¡€â €â €â €â €â €
        â €â €â €â €â €â €â €â €â €â €â €â ›â ¿â¢¿â£¿â£·â£¾â£¯â ‰â €â €â €â €â €â €
        â €â €â €â €â €â €â €â €â €â €â €â €â €â£¾â£¿â œâ£¿â¡â €â €â €â €â €â €â €
        â €â €â €â €â €â €â €â €â €â €â €â €â£¸â£¿â â €â ˜â£¿â£†â €â €â €â €â €â €
        â €â €â €â €â €â €â €â €â €â €â €â¢ â£¿â¡Ÿâ ƒâ¡„â €â ˜â¢¿â£†â €â €â €â €â €
        â €â €â €â €â €â €â €â €â €â €â €â£¾â£¿â£â£‹â£ˆ â£¤â£®â£¿â£§â¡€â €
        â €â €â €â €â €â €â €â €â €â €â €â£ â£¤â£¤â£¤â£¤â£¤â£¶â£¦â£¤â£„â¡€â €â €â €â €â €â €â €â €
        â €â €â €â €â €â €â €â €â¢€â£´â£¿â¡¿â ›â ‰â ™â ›â ›â ›â ›â »â¢¿â£¿â£·â£¤â¡€â €â €â €â €â €
        â €â €â €â €â €â €â €â €â£¼â£¿â ‹â €â €â €â €â €â €â €â¢€â£€â£€â ˆâ¢»â£¿â£¿â¡„â €â €â €â €
        â €â €â €â €â €â €â €â£¸â£¿â¡â €â €â €â£ â£¶â£¾â£¿â£¿â£¿â ¿â ¿â ¿â¢¿â£¿â£¿â£¿â£„â €â €â €
        â €â €â €â €â €â €â €â£¿â£¿â â €â €â¢°â£¿â£¿â£¯â â €â €â €â €â €â €â €â ˆâ ™â¢¿â£·â¡„â €
        â €â €â£€â£¤â£´â£¶â£¶â£¿â¡Ÿâ €â €â €â¢¸â£¿â£¿â£¿â£†â €â €â €â €â €â €â €â €â €â €â£¿â£·â €
        â €â¢°â£¿â¡Ÿâ ‹â ‰â£¹â£¿â¡‡â €â €â €â ˜â£¿â£¿â£¿â£¿â£·â£¦â£¤â£¤â£¤â£¶â£¶â£¶â£¶â£¿â£¿â£¿â €
        â €â¢¸â£¿â¡‡â €â €â£¿â£¿â¡‡â €â €â €â €â ¹â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â£¿â¡¿â ƒâ €
        â €â£¸â£¿â¡‡â €â €â£¿â£¿â¡‡â €â €â €â €â €â ‰â »â ¿â£¿â£¿â£¿â£¿â¡¿â ¿â ¿â ›â¢»â£¿â¡‡â €â €
        â €â£¿â£¿â â €â €â£¿â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£§â €â €
        â €â£¿â£¿â €â €â €â£¿â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â €â €
        â €â£¿â£¿â €â €â €â£¿â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â£¿â €â €
        â €â¢¿â£¿â¡†â €â €â£¿â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â¢¸â£¿â¡‡â €â €
        â €â ¸â£¿â£§â¡€â €â£¿â£¿â¡‡â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â €â£¿â£¿â ƒâ €â €
        â €â €â ›â¢¿â£¿â£¿â£¿â£¿â£‡â €â €â €â €â €â£°â£¿â£¿â£·â£¶â£¶â£¶â£¶â ¶â €â¢ â£¿â£¿â €â €â €
        â €â €â €â €â €â €â €â£¿â£¿â €â €â €â €â €â£¿â£¿â¡‡â €â£½â£¿â¡â â €â €â¢¸â£¿â¡‡â €â €â €
        â €â €â €â €â €â €â €â£¿â£¿â €â €â €â €â €â£¿â£¿â¡‡â €â¢¹â£¿â¡†â €â €â €â£¸â£¿â ‡â €â €â €
        â €â €â €â €â €â €â €â¢¿â£¿â£¦â£„â£€â£ â£´â£¿â£¿â â €â ˆâ »â£¿â£¿â£¿â£¿â¡¿â â €â €â €â €
        â €â €â €â €â €â €â €â ˆâ ›â »â ¿â ¿â ¿â ¿â ‹â â €â €â €â €â €â €â €â €â €â €â €â €â €â €`
    ];
    
    let chosenAmogus = amogi[Math.floor(Math.random() * amogi.length)];
    handler.channelSend(chosenAmogus,false);
}
let amogus = new command("amogus",amogusCmd,["string"],"amogus ascii art","general");


function infoCmd(handler){
    let messageTime = handler.ctx.createdTimestamp;
    let responseTime = Date.now()-messageTime;
    //let responseUnit=units.uselessConversion("time",responseTime);
    //let responseTimeString=responseUnit.value+" "+responseUnit.name;
    let responseTimeString=responseTime+"ms";

    let uptime = Date.now()-startTime;
    let uptimeUnit=units.uselessConversion("time",uptime);
    let uptimeString=uptimeUnit.value+" "+uptimeUnit.name;
    if(handler.flags.noConversion){
        uptimeString=uptime+"ms";
    }


    let embedString="";
    embedString+="uptime:" + uptimeString + "\n";
    embedString+="prefix:" + config.prefix + "\n";
    embedString+="guilds:" + handler.client.guilds.cache.size + "\n";
    embedString+="response time:" + responseTimeString + "\n";
    embedString+="commands loaded:" + Object.keys(command.list).length + "\n";
    if(handler.flags.raw){
        handler.textReply(embedString);
        return;
    }
    handler.listEmbedReply("info","various information",embedString);
}
let info=new command("info",infoCmd,["string"],"Get info about the bot","general");



function helpCmd(handler){
    let embedString="";
    let commandList=command.list;
    let commandListArray=[];
    for(let commandName in commandList){
        let commandObject=commandList[commandName];
        if(commandObject.category==handler.flags.category){
            commandListArray.push(commandObject);
        }
    }
    commandListArray.sort((a,b)=>{
        return a.name.localeCompare(b.name);
    }
    );
    for(let commandObject of commandListArray){
        embedString+=commandObject.name+" - "+commandObject.description+"\n";
    }
    if(handler.flags.raw){
        handler.textReply(embedString);
        return;
    }
    handler.listEmbedReply("help","help",embedString);
}
let help=new command("help",helpCmd,["string"],"Get help about a command","general");












command.load(help);
command.load(info);
command.load(ping);
command.load(amogus);


